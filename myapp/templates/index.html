{% extends 'layouts/base.html' %}

{% load static %}
{% load humanize %}


{% block content %}
<div class="marquee-container">
    <div class="marquee-text">
        <b>¬°Bienvenido a Delta Old! </b>
        <b>
            Env√≠os GRATIS en compras superiores a $150.000.-
        </b>
    </div>
</div>
<div id="carouselExampleDark" class="carousel carousel-dark slide" data-bs-ride="carousel">
    <div class="carousel-inner">
        <div class="carousel-item active" data-bs-interval="2000">
            <a href="https://www.instagram.com/pkm.delta.old">
                <div class="home-container-text">
                    <img src="../static/image/index_img/claim.jpg" class="d-block w-100" alt="claim">
                    <div class="text-overlay">INSTAGRAM üì∏</div>
                </div>
            </a>
        </div>
        <div class="carousel-item" data-bs-interval="2000">
            <a href='eventos'>
                <div class="home-container-text">
                    <img src="../static/image/index_img/delta_feria.jpg" class="d-block w-100" alt="productos">
                    <div class="text-overlay">DELTA FERIA üé™</div>
                </div>
            </a>
        </div>
        <div class="carousel-item">
            <a href='productos'>
                <div class="home-container-text">
                    <img src="../static/image/index_img/compras_del.jpg" class="d-block w-100" alt="feria">
                    <div class="text-overlay">TIENDA ONLINE üõí</div>
                </div>
            </a>
        </div>
    </div>
    <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleDark" data-bs-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Previa</span>
    </button>
    <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleDark" data-bs-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Siguiente</span>
    </button>
</div>




<!--PRISMATIC INICIO -->
<div class="container countdown-section">
    <div class="countdown-container">
        <div class="countdown-overlay">
            <h2 class="countdown-title">
                ¬°La expansi√≥n Pok√©mon TCG: Scarlet & Violet‚ÄîPrismatic Evolutions llega el 17 de enero de 2025!
            </h2>
            <div id="countdown" class="countdown-timer">
                <!-- Countdown Timer -->
                <span id="days">00</span> d√≠as
                <span id="hours">00</span> horas
                <span id="minutes">00</span> minutos
                <span id="seconds">00</span> segundos
            </div>
        </div>
    </div>
    <script>
        // Set the date for the countdown (17th January 2025)
        const targetDate = new Date("Jan 17, 2025 00:00:00").getTime();

        // Update the countdown every second
        const countdownInterval = setInterval(function() {
            const now = new Date().getTime();
            const timeLeft = targetDate - now;

            // Calculate days, hours, minutes, and seconds
            const days = Math.floor(timeLeft / (1000 * 60 * 60 * 24));
            const hours = Math.floor((timeLeft % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((timeLeft % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((timeLeft % (1000 * 60)) / 1000);

            // Display the countdown
            document.getElementById("days").innerHTML = days < 10 ? "0" + days : days;
            document.getElementById("hours").innerHTML = hours < 10 ? "0" + hours : hours;
            document.getElementById("minutes").innerHTML = minutes < 10 ? "0" + minutes : minutes;
            document.getElementById("seconds").innerHTML = seconds < 10 ? "0" + seconds : seconds;

            // If the countdown is over, display a message
            if (timeLeft < 0) {
                clearInterval(countdownInterval);
                document.getElementById("countdown").innerHTML = "¬°La expansi√≥n ya est√° disponible!";
            }
        }, 1000);
    </script>
</div>


<div class="container">
    <div class="row" style="margin-top: 1em; margin-bottom: 1em;">
        <!-- Primer div con la imagen "surgin.webp" -->
        <div class="col-lg-5" style="height: 200px; position: relative;">
            <!-- Enlace alrededor de la imagen -->
            <a href="productos" style="display: block; width: 100%; height: 100%; position: relative;">
                <img src="../static/image/index_img/surgin.webp" alt="tienda" 
                     style="width: 100%; height: 100%; object-fit: cover;">
                <!-- Texto superpuesto en la imagen -->
                <div class="countdown-title" style="display: flex; justify-content: center; align-items: center; font-weight: bold; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); color: white; font-size: 2em; background-color: rgba(0, 0, 0, 0.61); padding: 10px 20px; border-radius: 5px; white-space: nowrap;">
                    COMPRAS ELECTRICAS ‚ö°
                </div>
            </a>
        </div>

        <!-- Segundo div con la imagen "stellar.webp" a la derecha del primero -->
        <div class="col-lg-7 mt-3 mt-md-0" style="height: 200px; position: relative;">
            <!-- Enlace alrededor de la imagen -->
            <a href="#" onclick="window.location.href='/buscar?q=stellar';" style="display: block; width: 100%; height: 100%; position: relative;">
                <img src="../static/image/index_img/stellar.webp" alt="tienda" 
                     style="width: 100%; height: 100%; object-fit: cover;">
                <!-- Texto superpuesto en la imagen 
                <div class="countdown-title" style="display: flex; justify-content: center; align-items: center; font-weight: bold; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); color: white; font-size: 2em; background-color: rgba(0, 0, 0, 0.61); padding: 10px 20px; border-radius: 5px; white-space: nowrap;">
                    CLICK AQU√ç ‚ö°
                </div>-->
            </a>
        </div>
    </div>
</div>


<!-- Contenedor principal de los carruseles -->
<div class="container">

    <!-- Row que contiene ambos carruseles -->
    <div class="row g-0 mb-4 justify-content-center">
        <!-- Primer carousel -->
        <div class="col-12 col-md-6">
            <div id="carouselExampleIndicators1" class="carousel slide" data-bs-ride="carousel">
                <div class="carousel-inner">
                    {% for producto in productos|slice:":2" %}
                    {% if producto.stock %}
                    <div class="carousel-item {% if forloop.first %} active {% endif %}">
                        <div class="card h-100 mt-1" style="margin: 0 auto;">
                            <div class="card-body text-center image-container"
                                style="background-color: rgba(108, 31, 196, 0.178); border: solid 0.2px rgba(0, 0, 0, 0.568); font-size: 0.8em;">
                                <!-- Eliminado cualquier interacci√≥n de hover -->
                                <img src="{{ producto.imagen_url }}" alt="Imagen de {{ producto.titulo }}" class="product-image"
                                    style="margin: 1em auto; width: 100%; height: auto; max-height: 200px; object-fit: contain;">
                                <div class="mt-3"></div>
                            </div>
                        </div>
                    </div>
                    {% endif %}
                    {% endfor %}
                </div>
                <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleIndicators1" data-bs-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Previous</span>
                </button>
                <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleIndicators1" data-bs-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Next</span>
                </button>
            </div>
        </div>

        <!-- Segundo carousel -->
        <div class="col-12 col-md-6">
            <div id="carouselExampleIndicators2" class="carousel slide" data-bs-ride="carousel">
                <div class="carousel-inner">
                    {% for producto in productos|slice:"2:4" %}
                    {% if producto.stock %}
                    <div class="carousel-item {% if forloop.first %} active {% endif %}">
                        <div class="card h-100 mt-1" style="margin: 0 auto;">
                            <div class="card-body text-center image-container"
                                style="background-color: rgba(108, 31, 196, 0.178); border: solid 0.2px rgba(0, 0, 0, 0.568); font-size: 0.8em;">
                                <!-- Eliminado cualquier interacci√≥n de hover -->
                                <img src="{{ producto.imagen_url }}" alt="Imagen de {{ producto.titulo }}" class="product-image"
                                    style="margin: 1em auto; width: 100%; height: auto; max-height: 200px; object-fit: contain;">
                                <div class="mt-3"></div>
                            </div>
                        </div>
                    </div>
                    {% endif %}
                    {% endfor %}
                </div>
                <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleIndicators2" data-bs-slide="prev">
                    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Previous</span>
                </button>
                <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleIndicators2" data-bs-slide="next">
                    <span class="carousel-control-next-icon" aria-hidden="true"></span>
                    <span class="visually-hidden">Next</span>
                </button>
            </div>
        </div>
    </div>
</div>
    

<!-- Bootstrap CSS -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

<!-- Bootstrap JS (con Popper.js) -->
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js"></script>


{% endblock %}
