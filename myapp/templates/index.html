{% extends 'layouts/base.html' %}

{% load static %}
{% load humanize %}


{% block content %}

<div id="carouselExampleDark" class="carousel slide" data-bs-ride="carousel">
    <div class="carousel-inner">
        <div class="carousel-item active" data-bs-interval="2000">
            <a href="https://www.instagram.com/pkm.delta.old">
                <div class="home-container-text">
                    <img src="{% static 'image/index_img/claim.jpg' %}" class="d-block w-100" alt="claim">
                    <div class="text-overlay">INSTAGRAM </div>
                </div>
            </a>
        </div>
        <div class="carousel-item" data-bs-interval="2000">
            <a href='eventos'>
                <div class="home-container-text">
                    <img src="{% static 'image/index_img/delta_feria.jpg' %}" class="d-block w-100" alt="productos">
                    <div class="text-overlay">DELTA FERIA </div>
                </div>
            </a>
        </div>
        <div class="carousel-item" data-bs-interval="2000">
            <a href='productos'>
                <div class="home-container-text">
                    <img src="{% static 'image/index_img/compras_del.jpg' %}" class="d-block w-100" alt="feria">
                    <div class="text-overlay">TIENDA ONLINE ðŸ›’</div>
                </div>
            </a>
        </div>
    </div>

    <!-- Botones de control -->
    <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleDark" data-bs-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Previa</span>
    </button>
    <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleDark" data-bs-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="visually-hidden">Siguiente</span>
    </button>
</div>



<!--PRISMATIC INICIO -->
<div class="container countdown-section">
    <div class="countdown-container">
        <div class="countdown-overlay">
            <h2 class="countdown-title">
                Â¡La expansiÃ³n PokÃ©mon TCG: Scarlet & Violetâ€”Prismatic Evolutions llega el 17 de enero de 2025!
            </h2>
            <div id="countdown" class="countdown-timer">
                <!-- Countdown Timer -->
                <span id="days">00</span> dÃ­as
                <span id="hours">00</span> horas
                <span id="minutes">00</span> minutos
                <span id="seconds">00</span> segundos
            </div>
        </div>
    </div>
    <script>
        // Set the date for the countdown (17th January 2025)
        const targetDate = new Date("Jan 17, 2025 00:00:00").getTime();

        // Update the countdown every second
        const countdownInterval = setInterval(function () {
            const now = new Date().getTime();
            const timeLeft = targetDate - now;

            // Calculate days, hours, minutes, and seconds
            const days = Math.floor(timeLeft / (1000 * 60 * 60 * 24));
            const hours = Math.floor((timeLeft % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
            const minutes = Math.floor((timeLeft % (1000 * 60 * 60)) / (1000 * 60));
            const seconds = Math.floor((timeLeft % (1000 * 60)) / 1000);

            // Display the countdown
            document.getElementById("days").innerHTML = days < 10 ? "0" + days : days;
            document.getElementById("hours").innerHTML = hours < 10 ? "0" + hours : hours;
            document.getElementById("minutes").innerHTML = minutes < 10 ? "0" + minutes : minutes;
            document.getElementById("seconds").innerHTML = seconds < 10 ? "0" + seconds : seconds;

            // If the countdown is over, display a message
            if (timeLeft < 0) {
                clearInterval(countdownInterval);
                document.getElementById("countdown").innerHTML = "Â¡La expansiÃ³n ya estÃ¡ disponible!";
            }
        }, 1000);
    </script>
</div>


<div class="container">
    <div class="row" style="margin-top: 1em; margin-bottom: 1em;">
        <!-- Primer div con la imagen "surgin.webp" -->
        <div class="col-lg-5" style="height: 200px; position: relative; overflow: hidden;">
            <!-- Enlace alrededor de la imagen -->
            <a href="productos" style="display: block; width: 100%; height: 100%; position: relative;">
                <!-- Imagen con efecto hover -->
                <img src="../static/image/index_img/surgin.webp" alt="tienda"
                    style="width: 100%; height: 100%; object-fit: cover; transition: transform 0.3s ease;">
                <!-- Texto superpuesto en la imagen -->
                <div class="countdown-title"
                    style="display: flex; justify-content: center; align-items: center; font-weight: bold; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); color: white; font-size: 2em; background-color: rgba(0, 0, 0, 0.925); padding: 10px 20px; border-radius: 5px; white-space: nowrap;">
                    COMPRAS âš¡
                </div>
            </a>
        </div>

        <!-- Segundo div con la imagen "stellar.webp" a la derecha del primero -->
        <div class="col-lg-7 mt-3 mt-md-0" style="height: 200px; position: relative; overflow: hidden;">
            <a href="sellados" style="display: block; width: 100%; height: 100%; position: relative;">
                <img src="../static/image/index_img/stellar.webp" alt="tienda"
                    style="width: 100%; height: 100%; object-fit: cover; transition: transform 0.3s ease;">
                <div class="countdown-title"
                    style="display: flex; justify-content: center; align-items: center; font-weight: bold; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); color: white; font-size: 2em; background-color: rgba(0, 0, 0, 0.911); padding: 10px 20px; border-radius: 5px; text-align: center; word-wrap: break-word; max-width: 90%;">
                    PRODUCTOS SELLADOS</div>
            </a>
        </div>


        <!-- CSS para el efecto hover -->
        <style>
            .col-lg-5 a img:hover,
            .col-lg-7 a img:hover {
                transform: scale(0.95);
                /* Se contrae un poco la imagen al hacer hover */
            }
        </style>
        <!-- Contenedor principal de los carruseles -->
        <!-- Contenedor principal de los carruseles -->
        <div class="container">
            <div class="row g-2" style="margin-top: 1em; margin-bottom: 1em;">
                <!-- Primer carrusel -->
                <div class="col-lg-6" style="position: relative;">
                    <div id="carouselExampleIndicators1" class="carousel slide" data-bs-ride="carousel">
                        <div class="carousel-inner">
                            {% for producto in productos|slice:":2" %}
                            {% if producto.stock %}
                            <div class="carousel-item {% if forloop.first %} active {% endif %}">
                                <div class="card h-100 mb-4 shadow-sm border-0">
                                    <div class="card-body text-center d-flex flex-column justify-content-center align-items-center"
                                        style="background-color: rgba(158, 156, 135, 0.302); font-size: 0.9em;">
                                        <!-- BotÃ³n de enlace a productos -->
                                        <p style="color: black; font-size: 1.5em; font-weight: bold; text-decoration: none; 
                                cursor: pointer; transition: color 0.3s, transform 0.3s;">
                                            Productos Disponibles
                                        </p>
                                        <div class="mt-3"></div>
                                        <!-- Imagen del producto -->
                                        <img src="{{ producto.imagen_url }}" alt="Imagen de {{ producto.titulo }}"
                                            class="product-image img-fluid"
                                            style="max-height: 200px; object-fit: contain;">
                                    </div>
                                </div>
                            </div>
                            {% endif %}
                            {% endfor %}
                        </div>
                        <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleIndicators1"
                            data-bs-slide="prev">
                            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                            <span class="visually-hidden">Previous</span>
                        </button>
                        <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleIndicators1"
                            data-bs-slide="next">
                            <span class="carousel-control-next-icon" aria-hidden="true"></span>
                            <span class="visually-hidden">Next</span>
                        </button>
                    </div>
                </div>

                <!-- Segundo carrusel -->
                <div class="col-lg-6" style="position: relative;">
                    <div class="card shadow-sm border-0">
                        <div class="card-body text-center" style="background-color:  rgba(158, 156, 135, 0.302);">
                            <h3 style="margin-bottom: 0.5em;">Â¡Bienvenido a Delta Old!</h3>
                            <p>Explora nuestros productos exclusivos con envÃ­os gratis en compras superiores a $150.000.
                            </p>
                            <p>Â¡Haz que tu colecciÃ³n crezca con productos tan Ã©picos como tus PokÃ©mon favoritos!.</p>
                            <a href="productos" style="text-decoration: none;">
                                <button type="button" class="btn" style="
                            background-color: #9c27b0; 
                            color: white; 
                            border: none; 
                            padding: 10px 15px; 
                            border-radius: 5px; 
                            font-size: 1em; 
                            transition: all 0.3s ease; 
                            box-shadow: 0px 4px 6px rgba(0, 0, 0, 0.1);
                        " onmouseover="this.style.backgroundColor='#7b1fa2'; this.style.transform='scale(1.05)'; this.style.boxShadow='0px 6px 12px rgba(0, 0, 0, 0.2)';"
                                    onmouseout="this.style.backgroundColor='#9c27b0'; this.style.transform='scale(1)'; this.style.boxShadow='0px 4px 6px rgba(0, 0, 0, 0.1)';">
                                    Producto de la tienda
                                </button>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Bootstrap JS (con Popper.js) -->
        <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>


        {% endblock %}